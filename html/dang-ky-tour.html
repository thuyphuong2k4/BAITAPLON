<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng Ký Tour</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/navbar.css">
    <link rel="stylesheet" href="../css/contact-box.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        .text-danger { color: red; }
        .text-success { color: green; }
        
        .content {
            margin-top: 20px;
            display: none; /* Ẩn nội dung ban đầu */
        }
        .content img {
            width: 350px; /* Giới hạn chiều rộng ảnh còn 150px */
            height: auto; /* Tự động điều chỉnh chiều cao theo tỷ lệ */
        }
        .description {
            margin-top: 10px;
            font-size: 30px;
            color: red;
            font-weight: bolder;
        }
        .form-control{
            background-color: rgb(238, 236, 236);
            color: rgb(88, 5, 5);
            font-weight: bolder;
        }

    </style>
    
</head>
<body>
     <!-- Thanh điều hướng-->
     <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <img src="../img/logo.jpeg" alt="" width="40">
            <a class="navbar-brand" href="../html/trang-chu.html">Traveling</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                <li class="nav-item dropdown">
                <li class="nav-item">
                    <a class="nav-link" href="../html/trang-chu.html"><i class="fas fa-users"></i> Trang chủ</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="internationalTour" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <i class="fas fa-globe"></i> Tour
                    </a>
                    <div class="dropdown-menu" aria-labelledby="internationalTour">
                      <a class="dropdown-item" href="../html/tour-trong-nuoc.html">Tour trong nước</a>
                      <a class="dropdown-item" href="../html/tour-nuoc-ngoai.html">Tour nước ngoài</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="internationalTour" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-cogs"></i> Đăng ký tour
                    </a>
                    <div class="dropdown-menu" aria-labelledby="internationalTour">
                        <a class="dropdown-item" href="../html/dang-ky-tour.html">Đăng ký tour</a>
                        <a class="dropdown-item" href="../html/my-tour.html">My Tour</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="Tin-tuc.html"><i class="fas fa-cogs"></i> Tin tức</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="internationalTour" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-globe"></i> Đăng nhập
                    </a>
                    <div class="dropdown-menu" aria-labelledby="internationalTour">
                        <a class="dropdown-item" href="../html/dang-nhap.html">Đăng nhập</a>
                        <a class="dropdown-item" href="../html/dang-ky.html">Đăng ký</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="lien-he.html"><i class="fas fa-phone"></i> Liên Hệ</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="sitemap.html"><i class="fas fa-phone"></i> sitemap</a>
                </li>
                </ul>
            </div>
        </div>
    </nav>
    <!--Hình ảnh-->
    <div class="row">
        <div class="col-md-3 bg-warning"></div>
        <div class="col-md-8 bg-warning">
        <img src="../img/Hallstatt.jpg" alt="">
    </div>
    <div class="col-md-1 bg-warning"></div>
    </div>
    
        <!-- Thanh tìm kiếm -->
    <div class="row bg-light py-3">
        <div class="col-md-2"></div>
        <div class="col-md-8 ">
            <div class="search-bar d-flex">
            <!-- Tìm tour -->
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Tìm tour : ..." aria-label="Tìm tour">
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="fas fa-search " ></i></span>
                        </div>
                </div>
          
          <!-- Từ ngày -->
                <div class="input-group">
                    <input type="date" class="form-control" placeholder="Từ ngày">
                    <div class="input-group-append">
                        <span class="input-group-text"><i class="fas fa-calendar-alt" height="50"></i></span>
                    </div>
                </div>
          
          <!-- Đến ngày -->
                <div class="input-group">
                    <input type="date" class="form-control" placeholder="Đến ngày">
                    <div class="input-group-append">
                        <span class="input-group-text"><i class="fas fa-calendar-alt"></i></span>
                    </div>
                </div>
          
          <!-- Chọn loại tour -->
                <select class="form-control">
                    <option>Trong nước</option>
                    <option>Nước ngoài</option>
                </select>
          
          <!-- Nút tìm kiếm -->
                <button class="btn btn-search">Tìm Kiếm</button>
            </div>
            <div class="col-md-2"></div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8 ">
            <!-- Tiêu đề -->
            <h2 class="text-center  bg-info text-danger p-3 " id="tour-title"> ĐĂNG KÝ TOUR </h2>

            <!-- Thông báo lỗi chung -->
            <div id="form-error" class="text-danger mb-3" style="display: none;">Vui lòng kiểm tra lại các thông tin nhập vào!</div>

            <!-- Thông tin đặt Tours -->
         
            <h4 class=" mb-4 ">THÔNG TIN ĐẶT TOUR</h4>
            <hr class="col-md-3">
            <form id="tour-form bg-light">
            <div class="row">
                <div class="col-md-6 form-group">
                    <label for="name" >Họ tên <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="name" required>
                    <small class="form-text" id="name-error"></small>
                </div>
                <div class="col-md-6 form-group">
                    <label for="address">Địa chỉ</label>
                    <input type="text" class="form-control" id="address">
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 form-group">
                    <label for="phone">Số điện thoại <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="phone" required>
                    <small class="form-text" id="phone-error"></small>
                </div>
                <div class="col-md-6 form-group">
                    <label for="email">Email</label>
                    <input type="email" class="form-control" id="email">
                </div>
            </div>
            <div class="form-group">
                <label for="note" >Ghi chú</label>
                <textarea class="form-control" id="note" rows="3"></textarea>
            </div>

            <!-- Chọn ngày khởi hành -->
             
            <h5>Chọn ngày khởi hành</h5>
            <hr class="col-md-3">
            <div class="form-group">
                <input type="date" class="form-control w-30 mb-3" id="date" required>
            </div>
            <!-- Giá tour -->
            <h5>
                <label for="tourSelect">Chọn tour:</label>
                <hr class="col-md-3">
            </h5>
            <Span>
                <select id="tourSelect" class="form-label" onchange="updatePrice()">
                    <option value="0" data-price="0">-- Chọn tour --</option>
                    <option value="1" data-price="15990000"> VỊNH HẠ LONG - VIỆT NAM </option>
                    <option value="2"data-price="65990000"> NGA MI - TRUNG QUỐC</option>
                    <option value="3"data-price="33990000"> BUSAN - HÀN QUỐC</option>
                    <option value="4" data-price="33990000"> NÚI PHÚ SĨ - NHẬT BẢN</option>
                    <option value="5" data-price="43690000"> THỊ TRẤN HALLSTATT - ÁO</option>
                    <option value="6" data-price="54940000"> NHÀ HÁT SYDNEY - ÚC</option>
                    <option value="7" data-price="49550000" > THÁP EIFFEL - PHÁP</option>
                    <option value="8" data-price="9490000"> ĐẠI NỘI HUẾ</option>
                    <option value="9" data-price="15990000"> ĐẢO PHÚ QUỐC</option>
                    <option value="10" data-price="7590000"> BÃI BIỂN NHA TRANG</option>
                    <option value="11" data-price="7990000"> HỘI AN - NGHỆ AN</option>
                    <option value="12"data-price="15850000"> HOÀNG SU PHÌ - HÀ GIANG</option>
                </select>
            </Span>
            
            <!-- Nội dung sẽ hiển thị khi chọn option -->
            <div class="content" id="contentDisplay">
                <img id="tourImage" src="" alt="Tour Image">
                <div class="description" id="tourDescription"></div>
            </div>
            <h5 class="p-3">
                <label for="price">Giá tour:</label>
            </h5>
            <h6 class="text-success"> * Lưu ý: Giá tour có thể thay đổi tùy theo thời điểm và số lượng khách hàng</h6>
            <h6 class="text-danger"> Giá vé trẻ em được miễn phí 50%</h6>
            <div class="mb-3">
                <table class="table table-bordered table-hover ">
                    <tr class="table-info">
                        <th>Số Lượng Người Lớn</th>
                        <th>Số Lượng Trẻ Em</th>
                        <th>Tổng Tiền</th>
                    </tr>
                    <tr>
                        <td>
                            <input type="number" class="form-control" id="adults" value="0" min="0" onchange="calculateTotal()">
                        </td>
                        <td>                
                            <input type="number" class="form-control" id="children" value="0" min="0" onchange="calculateTotal()">
                        </td>
                        <td>                
                            <input type="text" class="form-control" id="totalAmount" disabled>
                        </td>
                    </tr>
                </table>
                
            <!-- Chọn phương thức thanh toán -->
            <h5>Xin quý khách vui lòng chọn hình thức thanh toán</h5>
            <hr class="col-md-3">
            <div class="form-check">
                <input class="form-check-input" type="radio" name="payment" id="bank-transfer" required>
                <label class="form-check-label" for="bank-transfer">Chuyển khoản qua ngân hàng</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="payment" id="cash">
                <label class="form-check-label" for="cash">Thu tiền tận nơi</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="payment" id="office">
                <label class="form-check-label" for="office">Tại văn phòng chúng tôi</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="payment" id="online">
                <label class="form-check-label" for="online">Thanh toán online cổng thanh toán ONEPAY (+1.5% tổng giá trị đơn)</label>
            </div>

            <!-- Nút đặt tour và nút hủy -->
            <div class="form-group mt-3">
                <button type="button" class="btn btn-primary" onclick="validateForm()" >Đặt tours</button>
                <button type="reset" class="btn btn-danger ml-2">Hủy</button>
            </div>
        </form>
    </div>
</div>
    <!--chân footer trên-->
    <div class="footer-top bg-dark text-white py-5 ">
        <div class="row">
            <div class="col-md-2"></div>
             <!-- Dịch Vụ Column -->
        <div class="col-md-2 text-white">
            <div class="footer-section">DỊCH VỤ</div>
            <a href="../html/tour-trong-nuoc.html" class="footer-link text-white">Tour Trong Nước</a>
            <a href="../html/tour-nuoc-ngoai.html" class="footer-link text-white">Tour Nước Ngoài</a>
        </div>
        <!-- Hướng Dẫn Column -->
        <div class="col-md-2">
            <div class="footer-section">HƯỚNG DẪN</div>
            <a href="#" class="footer-link text-white">Giới Thiệu</a>
            <a href="#" class="footer-link text-white">Quy định chung</a>
            <a href="#" class="footer-link text-white">Hướng dẫn thanh toán</a>
            <a href="#" class="footer-link text-white">Hướng dẫn đặt tour</a>
        </div>
        <!-- Thông Tin Column -->
        <div class="col-md-2">
            <div class="footer-section">THÔNG TIN</div>
            <a href="../html/Tin-tuc.html" class="footer-link text-white">Tin tức</a>
            <a href="#" class="footer-link text-white">Dịch vụ</a>
            <a href="#" class="footer-link text-white">Thư viện</a>
            <a href="lien-he.html" class="footer-link text-white">Liên hệ</a>
        </div>
        <!-- Tin Tức Mới Nhất Column -->
        <div class="col-md-3">
            <div class="footer-section">TIN TỨC MỚI NHẤT</div>
            <a href="#" class="footer-link text-white"> Kinh nghiệm du lịch Busan tự túc 2024</a>
            <a href="#" class="footer-link text-white">Trốn phố thị, tìm bình yên với 6 làng chài Nha Trang phải ghé qua</a>
            <a href="../html/Du-lich-hoang-su-phi-5-dia-diem-hap-dan.html" class="footer-link text-white">Du lịch Hoàng Su Phì (Hà Giang): 5 địa điểm du lịch hấp dẫn nhất</a>
        </div>
    </div>

    <script>
                // Định nghĩa dữ liệu ảnh và mô tả tương ứng với từng tour
                const tourData = {
                    "1": {
                        "image": "../img/vinhhalong.jpg", 
                         "description": "  Du lịch VỊNH HẠ LONG - VIỆT NAM Giá chỉ với: 15.990.000đ",

                    },
                    "2": {
                        "image": "../img/ngami.jpg", 
                         "description": "Du lịch  NGA MI - TRUNG QUỐC Giá chỉ với: 65.990.000đ",

                    },
                    "3": {
                        "image": "../img/busan.jpg", 
                         "description": "Du lịch BUSAN - HÀN QUỐC giá chỉ với 33.990.000đ",

                    },
                    "4": {
                        "image": "../img/núi phú sĩ.jpg",
                         "description": " Du lịch NÚI PHÚ SĨ - NHẬT BẢN Giá chỉ với: 33.990.000đ",

                    },
                    "5": {
                        "image": "../img/hallstatt.jpg", 
                         "description": "Du lịch THỊ TRẤN HALLSTATT giá Chỉ với: 43.690.000đ",

                    },
                    "6": {
                        "image": "../img/sydney.jpg", 
                         "description": "Du lịch SYDNEY - ÚC giá Chỉ với: 54.940.000đ",

                    },
                    "7": {
                        "image": "../img/eiffel.jpg", 
                         "description": "Du lịch giá ThÁP EFFEL -PHÁP Chỉ với: 49.550.000đ",

                    },
                    "8": {
                        "image": "../img/hue.jpg", 
                         "description": "Du lịch ĐẠI NỘI HUẾ Chỉ với: 9.490.000đ",

                    },
                    "9": {
                        "image": "../img/phuquoc.jpg", 
                         "description": "Du lịch ĐẢO PHÚ QUỐC giá Chỉ với: 15.990.000đ",

                    },
                    "10": {
                        "image": "../img/nhatrang.jpg",
                         "description": "Du lịch NHA TRANG Chỉ với: 7.590.000đ",

                    },
                    "11": {
                        "image": "../img/hoian.jpg", 
                         "description": "Du lịch HỘI AN  Chỉ với: 7.990.000đ",

                    },
                    "12": {
                        "image": "../img/hoangphuxin.jpg", 
                         "description": "Du lịch HOÀNG SU PHÌ - HÀN GIANG Chỉ với: 15.850.000đ",

                    },
                };
            
                // Hàm xử lý khi thay đổi lựa chọn
                document.getElementById("tourSelect").addEventListener("change", function() {
                    const selectedValue = this.value;
                    const contentDisplay = document.getElementById("contentDisplay");
                    const tourImage = document.getElementById("tourImage");
                    const tourDescription = document.getElementById("tourDescription");
            
                    if (selectedValue && tourData[selectedValue]) {
                        // Nếu có lựa chọn hợp lệ, cập nhật nội dung
                        tourImage.src = tourData[selectedValue].image;
                        tourDescription.textContent = tourData[selectedValue].description;
                        contentDisplay.style.display = "block"; // Hiển thị nội dung
                    } else {
                        // Nếu không có lựa chọn hoặc chọn option mặc định, ẩn nội dung
                        contentDisplay.style.display = "none";
                    }
                });
                // Hàm cập nhật giá khi chọn tour
            function updatePrice() {
            var selectedOption = document.getElementById("tourSelect").selectedOptions[0];
            var price = parseInt(selectedOption.getAttribute("data-price"));
                document.getElementById("tourPrice").value = price;
            calculateTotal();  // Tính lại tổng tiền khi thay đổi tour
    }

    // Hàm tính tổng tiền
    function calculateTotal() {
        var price = parseInt(document.getElementById("tourSelect").selectedOptions[0].getAttribute("data-price"));
        var adults = parseInt(document.getElementById("adults").value);
        var children = parseInt(document.getElementById("children").value);
        
        var total = (adults * price) + (children * price * 0.5);
        document.getElementById("totalAmount").value = total.toLocaleString('vi-VN', {style: 'currency', currency: 'VND'});
    }
    function validateForm() {
        let isValid = true;
        
            // Kiểm tra họ tên
            const nameInput = document.getElementById("name");
            const nameError = document.getElementById("name-error");
            const namePattern = /^[A-Z][a-z]+(\s[A-Z][a-z]+)*$/;

            if (nameInput.value.trim() === "") {
                nameError.textContent = "Không được để trống";
                nameError.classList.add("text-danger");
                isValid = false;
            } else if (!namePattern.test(nameInput.value)) {
                nameError.textContent = "Nhập sai, yêu cầu nhập lại (VD: Tran Anh Dung)";
                nameError.classList.add("text-danger");
                isValid = false;
            } else {
                nameError.textContent = "Nhập đúng";
                nameError.classList.remove("text-danger");
                nameError.classList.add("text-success");
            }

            // Kiểm tra số điện thoại
            const phoneInput = document.getElementById("phone");
            const phoneError = document.getElementById("phone-error");
            const phonePattern = /^0[0-9]{9}$/;

            if (phoneInput.value.trim() === "") {
                phoneError.textContent = "Không được để trống";
                phoneError.classList.add("text-danger");
                isValid = false;
            } else if (!phonePattern.test(phoneInput.value)) {
                phoneError.textContent = "Nhập sai, yêu cầu nhập lại (VD: 0123456789)";
                phoneError.classList.add("text-danger");
                isValid = false;
            } else {
                phoneError.textContent = "Nhập đúng";
                phoneError.classList.remove("text-danger");
                phoneError.classList.add("text-success");
            }

            // Kiểm tra nếu có lỗi
            const formError = document.getElementById("form-error");
            if (isValid) {
                formError.style.display = "none";
                alert("Đăng ký thành công!");
            } else {
                formError.style.display = "block";
            }
            // Lưu dữ liệu
            var name,phone,totalAmount,date,note,tgten;
                name = document.getElementById("name").value;
                phone = document.getElementById("phone").value;
                totalAmount = document.getElementById("totalAmount").value;
                date=document.getElementById("date").value;
                note=document.getElementById("note").value;
                

                var w = window.open("my-tour.html");
                localStorage.setItem("na",name);
                localStorage.setItem("ph",phone);
                localStorage.setItem("da",date);
                localStorage.setItem("no",note);
                localStorage.setItem("tat",totalAmount);

        function addPassenger() {
            const passengerList = document.getElementById("passenger-list");
            const rowCount = passengerList.rows.length + 1;
            const newRow = passengerList.insertRow();

            newRow.innerHTML = `
                <td>${rowCount}</td>
                <td><input type="text" class="form-control passenger-name" required></td>
                <td><input type="date" class="form-control" required></td>
                <td><input type="text" class="form-control"></td>
                <td>
                    <select class="form-control">
                        <option>Nam</option>
                        <option>Nữ</option>
                    </select>
                </td>
                <td>
                    <select class="form-control">
                        <option>Việt Nam / Việt Kiều</option>
                        <option>Nước ngoài</option>
                    </select>
                </td>
                <td>
                    <select class="form-control">
                        <option>Giá Người Lớn</option>
                        <option>Giá Trẻ Em</option>
                        <option>Giá Em Bé</option>
                    </select>
                </td>
            `;
        }};
    </script>
</div>



        
</body>
</html>